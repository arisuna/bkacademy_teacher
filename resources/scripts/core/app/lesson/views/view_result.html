<form class="form-validate pd-0 mg-0"
      validate-form=""
      ng-submit="saveFn()"
      novalidate>
    <div class="custom-dialog-overflow scroll-append scroll-y overflow-x-disable ">
        <div class="row">
            <div class="col-sm-12">
                <angular-table table="table"
                           items="lesson.students"
                           ng-if="!page_loading && lesson.students.length > 0"
                           search-input-enable="false">
                    <table class="table table-striped table-hover">
                        <thead>
                        <tr>
                            <th class="text-dark-blue bd-b-white">#</th>
                            <th class="text-dark-blue bd-b-white">{{'NAME_TEXT' | translate }}</th>
                            <th class="text-dark-blue bd-b-white">{{'SCORE_TEXT' | translate }}</th>
                            <th class="text-dark-blue bd-b-white" ng-repeat="category in lesson.categories">{{category.name }}</th>
                            <th class="text-dark-blue bd-b-white"></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="(index, object) in table.pagedItems[table.currentPage]" class="relo-bg-bright-gray-4 bd-r-5 border-white">
                            <td class="bd-t-white">{{ index + 1}}</td>
                        <td  class="bd-t-white">
                            <div ng-click="editLessonFn( object )"
                                class="wrap-word text-bright-blue">{{ object.student.lastname }} {{ object.student.firstname }}
                            </div>
                        </td>
                        <td class="bd-t-white">{{ object.score }}</td>
                        <td class="bd-t-white" ng-repeat="category in lesson.categories">{{ object.categories[category.id].score }} 
                            <p>{{'CORRECT_TEXT' | translate}} : {{ object.categories[category.id].correct }}</p>
                            <p>{{'WRONG_TEXT' | translate}} : {{ object.categories[category.id].wrong }}</p>
                            <p>{{'NOT_DONE_TEXT' | translate}} : {{ object.categories[category.id].not_done }}</p></td>
                        <td class="text-right bd-t-white">
                            <button-edit-icon ng-click="editStudentScoreFn( object )" class="mr-sm"></button-edit-icon>
                        </td>
                        </tr>

                        </tbody>
                    </table>
                </angular-table>
            </div>
        </div>
    </div>
</form>
